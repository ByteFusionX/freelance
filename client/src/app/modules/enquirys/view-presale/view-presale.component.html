<div class="flex items-center justify-center  bg-opacity-50">
  <!-- Modal Container -->
  <div class="bg-white rounded-lg shadow-xl w-full max-w-2xl  p-6">
    <!-- Modal Header -->
    <div class="flex justify-between items-center border-b pb-3 mb-4">
      <h2 class="text-xl font-semibold text-gray-800">Presale Details</h2>
      <button class="text-gray-500 hover:text-gray-700 focus:outline-none" (click)="closeModal()">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
        </svg>
      </button>
    </div>
    <!-- Modal Content -->
    <div class="mb-4">
      <h3 class="text-lg font-medium text-gray-700 mb-2">Presale Files</h3>
      <div class="border rounded p-4 bg-gray-50">
        <div *ngFor="let file of data.assignedFiles">
          <p class="text-sm p-2 w-64 flex justify-between items-center"><span (click)="onDownloadClicks(file)"
              class="hover:underline hover:text-purple-600 hover:cursor-pointer max-w-[13rem] truncate"
              [matTooltip]="'Download File'" matTooltipPosition="below"
              matTooltipClass="mat-tooltip">{{file.originalname}}</span>
            <mat-divider></mat-divider>
        </div>
        <p *ngIf="!data.assignedFiles.length" class="text-gray-500 italic">No files have been given.</p>
      </div>
    </div>
    <!-- Toggle Revision Button -->
    <div class="mb-4">
      <button (click)="onRevision()"
        class="bg-violet-700 text-white px-4 py-2 rounded hover:bg-violet-700 focus:outline-none">
        Revise
      </button>
    </div>
    <!-- Revision Section -->
    <div *ngIf="showRevision" class="mb-4">
      <h3 class="text-lg font-medium text-gray-700 mb-2">Revision</h3>
      <textarea [(ngModel)]="revisionComment" (ngModelChange)="validateComments()"
        class="w-full border rounded p-2 bg-gray-50 text-gray-700" rows="4"  [ngClass]="{'border-red-500':showError}"
        placeholder="Provide your revision comments here..."></textarea>
      <div *ngIf="showError" class="text-red-500 mt-1 text-sm">
        Please provide your revision comments.
      </div>
    </div>
    <!-- Modal Footer -->
    <div *ngIf="showRevision" class="flex justify-end items-center border-t pt-3 mt-4">
      <button (click)="onRevision()"
        class="bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600 focus:outline-none mr-2">Cancel</button>
      <button (click)="onSubmit()"
        class="bg-violet-700 text-white px-4 py-2 rounded hover:bg-violet-700 focus:outline-none">
        <ng-icon *ngIf="isSaving" class="spin" name="heroArrowPath"></ng-icon>
        Submit</button>
    </div>
  </div>
</div>